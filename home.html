<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISHYA 2026 | Flames in Every Fold</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Jura:wght@300;500;700&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        /* --- CORE STYLES --- */
        :root {
            --emerald: #5cdb95;
            --emerald-glow: rgba(92, 219, 149, 0.4);
            --gold: #d4af37;
            --void: #050505;
            --glass: rgba(10, 10, 10, 0.6);
            --border: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background: var(--void); 
            overflow: hidden; /* Manual scroll control */
            font-family: 'Jura', sans-serif;
            color: white;
            height: 100vh; width: 100vw;
        }

        /* --- 3D CANVAS --- */
        #world {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1;
        }

        /* --- HUD LAYOUT --- */
        .hud-top {
            position: fixed; top: 0; width: 100%; padding: 30px 50px;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 10; pointer-events: none;
        }
        .logo {
            font-family: 'Cinzel Decorative', serif; font-size: 2rem; color: var(--gold);
            text-shadow: 0 0 15px var(--emerald-glow); pointer-events: auto;
        }
        .date-badge {
            border: 1px solid var(--emerald); padding: 5px 15px;
            font-size: 0.9rem; letter-spacing: 2px; color: var(--emerald);
            background: rgba(0,0,0,0.5);
        }

        /* Depth Meter (Right Side) */
        .depth-meter {
            position: fixed; right: 40px; top: 50%; transform: translateY(-50%);
            height: 300px; width: 2px; background: rgba(255,255,255,0.1);
            z-index: 10;
        }
        .depth-fill {
            width: 4px; height: 0%; background: var(--emerald);
            position: absolute; top: 0; left: -1px;
            box-shadow: 0 0 10px var(--emerald);
            transition: height 0.1s;
        }
        .depth-marker {
            position: absolute; left: -20px; font-size: 0.7rem; color: rgba(255,255,255,0.5);
        }

        /* --- SECTIONS (CONTENT) --- */
        /* These are fixed layers that fade in/out based on JS depth logic */
        .section-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 5; pointer-events: none;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; transform: scale(1.1); filter: blur(10px);
            transition: opacity 0.8s ease, transform 0.8s ease, filter 0.8s ease;
        }

        .section-layer.active {
            opacity: 1; transform: scale(1); filter: blur(0px);
            pointer-events: auto;
        }

        /* TYPOGRAPHY */
        h1 {
            font-family: 'Cinzel Decorative', serif; font-size: 5rem;
            text-transform: uppercase; line-height: 0.9; text-align: center;
            background: linear-gradient(to bottom, #fff, #888);
            -webkit-background-clip: text; color: transparent;
            margin-bottom: 20px;
        }
        h2 { font-family: 'Cinzel Decorative'; font-size: 3rem; color: var(--gold); margin-bottom: 20px; }
        p { font-size: 1.1rem; line-height: 1.6; color: #ccc; max-width: 600px; text-align: center; }

        /* BUTTONS */
        .btn-neon {
            margin-top: 30px; padding: 15px 40px;
            background: rgba(92, 219, 149, 0.1); border: 1px solid var(--emerald);
            color: var(--emerald); font-family: 'Jura'; letter-spacing: 2px;
            cursor: pointer; transition: 0.3s; text-transform: uppercase;
        }
        .btn-neon:hover { background: var(--emerald); color: black; box-shadow: 0 0 30px var(--emerald); }

        /* SPECIFIC LAYOUTS */
        
        /* Stats Grid */
        .stats-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px;
            margin-top: 50px;
        }
        .stat-box {
            background: var(--glass); border: var(--border);
            padding: 20px; text-align: center; backdrop-filter: blur(5px);
        }
        .stat-num { font-size: 2.5rem; color: var(--emerald); display: block; font-weight: bold; }
        .stat-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }

        /* Event Cards (Horizontal) */
        .event-container {
            display: flex; gap: 30px; margin-top: 40px;
        }
        .event-card {
            width: 250px; height: 350px;
            background: linear-gradient(180deg, rgba(20,20,20,0.8), rgba(0,0,0,0.9));
            border: 1px solid rgba(212, 175, 55, 0.3);
            display: flex; flex-direction: column; justify-content: flex-end; padding: 20px;
            transition: 0.3s; cursor: pointer; position: relative; overflow: hidden;
        }
        .event-card:hover { transform: translateY(-10px); border-color: var(--emerald); }
        .event-card h3 { font-family: 'Cinzel Decorative'; font-size: 1.5rem; color: white; margin-bottom: 5px; }
        .event-card span { font-size: 0.8rem; color: var(--emerald); text-transform: uppercase; }
        .event-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; opacity: 0.4; z-index: -1; transition: 0.5s;
        }
        .event-card:hover .event-bg { opacity: 0.7; transform: scale(1.1); }

        /* Pro Shows */
        .pronite-split {
            display: flex; align-items: center; justify-content: center; gap: 50px;
            max-width: 1000px;
        }
        .artist-img {
            width: 300px; height: 300px; border-radius: 50%; object-fit: cover;
            border: 2px solid var(--gold); box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
        }

        /* Sponsors Ticker */
        .ticker-wrap {
            position: absolute; bottom: 50px; width: 100%; overflow: hidden;
            background: rgba(0,0,0,0.5); padding: 10px 0; border-top: 1px solid rgba(255,255,255,0.1);
        }
        .ticker { display: inline-block; white-space: nowrap; animation: ticker 20s linear infinite; }
        .ticker-item { display: inline-block; padding: 0 50px; font-size: 1.2rem; color: #666; font-weight: bold; }
        @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            h1 { font-size: 3rem; }
            .stats-grid { grid-template-columns: 1fr 1fr; }
            .event-container { flex-direction: column; height: 400px; overflow-y: scroll; }
            .event-card { width: 100%; height: 150px; }
            .pronite-split { flex-direction: column; }
            .artist-img { width: 200px; height: 200px; }
        }
    </style>
</head>
<body>

    <!-- 3D Background -->
    <canvas id="world"></canvas>

    <!-- Top Navigation HUD -->
    <div class="hud-top">
        <div class="logo">ISHYA</div>
        <div class="date-badge">JAN 24-27 • 2026</div>
    </div>

    <!-- Right Side Depth Meter -->
    <div class="depth-meter">
        <div class="depth-fill" id="depth-bar"></div>
        <div class="depth-marker" style="top: 0%">START</div>
        <div class="depth-marker" style="top: 25%">ABOUT</div>
        <div class="depth-marker" style="top: 50%">EVENTS</div>
        <div class="depth-marker" style="top: 75%">STARS</div>
        <div class="depth-marker" style="top: 100%">END</div>
    </div>

    <!-- CONTENT SECTIONS (Mapped to Scroll Depth) -->

    <!-- Section 0: HERO (Depth 0-10) -->
    <div class="section-layer active" id="sec-0">
        <h1>Flames in<br>Every Fold</h1>
        <p>THE ANNUAL CULTURAL FESTIVAL OF IIT</p>
        <p style="color: var(--emerald); margin-top: 20px; letter-spacing: 3px; font-size: 0.8rem;">SCROLL TO FLY INTO THE VOID</p>
    </div>

    <!-- Section 1: ABOUT & STATS (Depth 10-30) -->
    <div class="section-layer" id="sec-1">
        <h2>The Legacy</h2>
        <p>Like origami shaped by careful creases, Ishanya is formed by layers of culture, art, and innovation. Witness the folding of time.</p>
        
        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-num">50+</span>
                <span class="stat-label">Events</span>
            </div>
            <div class="stat-box">
                <span class="stat-num">25K</span>
                <span class="stat-label">Footfall</span>
            </div>
            <div class="stat-box">
                <span class="stat-num">300+</span>
                <span class="stat-label">Colleges</span>
            </div>
            <div class="stat-box">
                <span class="stat-num">₹2M</span>
                <span class="stat-label">Prizes</span>
            </div>
        </div>
    </div>

    <!-- Section 2: EVENTS (Depth 30-60) -->
    <div class="section-layer" id="sec-2">
        <h2 style="color: white; -webkit-text-stroke: 1px var(--emerald); text-shadow: 0 0 20px var(--emerald);">THE ARENA</h2>
        <div class="event-container">
            <!-- Dance -->
            <div class="event-card">
                <img src="https://images.unsplash.com/photo-1545128485-c400e7702796?w=400&q=80" class="event-bg" alt="Dance">
                <span>Performing Arts</span>
                <h3>Choreonite</h3>
            </div>
            <!-- Music -->
            <div class="event-card">
                <img src="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=400&q=80" class="event-bg" alt="Music">
                <span>Music Battle</span>
                <h3>Riff Wars</h3>
            </div>
            <!-- Fashion -->
            <div class="event-card">
                <img src="https://images.unsplash.com/photo-1509631179647-0177331693ae?w=400&q=80" class="event-bg" alt="Fashion">
                <span>Lifestyle</span>
                <h3>Vogue</h3>
            </div>
            <!-- Drama -->
            <div class="event-card">
                <img src="https://images.unsplash.com/photo-1478720568477-152d9b164e63?w=400&q=80" class="event-bg" alt="Drama">
                <span>Theatrics</span>
                <h3>Nukkad</h3>
            </div>
        </div>
        <button class="btn-neon">View All Events</button>
    </div>

    <!-- Section 3: PRO SHOWS (Depth 60-90) -->
    <div class="section-layer" id="sec-3">
        <h2>STAR NIGHTS</h2>
        <div class="pronite-split">
            <div style="text-align: right;">
                <h3 style="font-size: 2rem; color: var(--emerald);">DJ SNAKE</h3>
                <p>Day 1 Headliner</p>
                <p style="font-size: 0.9rem; margin-top: 10px;">The bass drops here. Experience a visual spectacle.</p>
            </div>
            <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=600&q=80" class="artist-img" alt="Artist">
            <div style="text-align: left;">
                <h3 style="font-size: 2rem; color: var(--gold);">THE LOCAL TRAIN</h3>
                <p>Day 2 Headliner</p>
                <p style="font-size: 0.9rem; margin-top: 10px;">Indie Rock at its finest. Feel the raw energy.</p>
            </div>
        </div>
        <button class="btn-neon">Book Passes</button>
    </div>

    <!-- Section 4: FOOTER (Depth 90+) -->
    <div class="section-layer" id="sec-4">
        <h1>JOIN THE<br>REVOLUTION</h1>
        <div class="ticker-wrap">
            <div class="ticker">
                <span class="ticker-item">GOOGLE</span>
                <span class="ticker-item">SPOTIFY</span>
                <span class="ticker-item">RED BULL</span>
                <span class="ticker-item">COKE STUDIO</span>
                <span class="ticker-item">ONEPLUS</span>
                <span class="ticker-item">AMAZON</span>
                <span class="ticker-item">SAMSUNG</span>
                <span class="ticker-item">INTEL</span>
            </div>
        </div>
        <p style="margin-top: 50px;">© 2026 Ishanya Fest. All Rights Reserved.</p>
        <div style="margin-top: 20px; font-size: 1.5rem;">
            <i class="fab fa-instagram" style="margin: 0 10px; color: var(--emerald);"></i>
            <i class="fab fa-twitter" style="margin: 0 10px; color: var(--emerald);"></i>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        const totalDepth = 100; // How "deep" the website is
        let scrollZ = 0;
        let targetZ = 0;

        // --- 1. THREE.JS SETUP ---
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x050505, 0.03); // The "Void" fog

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 0;

        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('world'), antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);

        // --- 2. PARTICLES: GREEN FIRE EMBERS ---
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 1500;
        const posArray = new Float32Array(particlesCount * 3);
        const colorArray = new Float32Array(particlesCount * 3);

        const color1 = new THREE.Color(0x5cdb95); // Emerald
        const color2 = new THREE.Color(0xd4af37); // Gold

        for(let i = 0; i < particlesCount * 3; i+=3) {
            // Position: Spiral Tunnel shape
            const angle = Math.random() * Math.PI * 2;
            const r = 2 + Math.random() * 15; // Radius
            const z = (Math.random() - 0.5) * 200; // Spread deeply

            posArray[i] = Math.cos(angle) * r;
            posArray[i+1] = Math.sin(angle) * r;
            posArray[i+2] = z;

            // Color mix
            const mixedColor = Math.random() > 0.5 ? color1 : color2;
            colorArray[i] = mixedColor.r;
            colorArray[i+1] = mixedColor.g;
            colorArray[i+2] = mixedColor.b;
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colorArray, 3));

        const material = new THREE.PointsMaterial({
            size: 0.15,
            vertexColors: true,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending
        });

        const particlesMesh = new THREE.Points(particlesGeometry, material);
        scene.add(particlesMesh);

        // --- 3. OBJECTS: ORIGAMI SHARDS ---
        const shardGroup = new THREE.Group();
        const geometry = new THREE.ConeGeometry(0.5, 1, 3); // Triangle shards
        const shardMat = new THREE.MeshBasicMaterial({ color: 0x111111, wireframe: true, transparent: true, opacity: 0.3 });
        
        for(let i=0; i<200; i++){
            const mesh = new THREE.Mesh(geometry, shardMat);
            mesh.position.set(
                (Math.random() - 0.5) * 30,
                (Math.random() - 0.5) * 30,
                (Math.random() - 0.5) * 200
            );
            mesh.rotation.x = Math.random() * Math.PI;
            mesh.rotation.z = Math.random() * Math.PI;
            shardGroup.add(mesh);
        }
        scene.add(shardGroup);

        // --- 4. SCROLL INTERACTION ---
        window.addEventListener('wheel', (e) => {
            targetZ += e.deltaY * 0.05;
            targetZ = Math.max(0, Math.min(targetZ, totalDepth)); // Clamp
        });
        
        // Touch support
        let touchStart = 0;
        window.addEventListener('touchstart', (e) => touchStart = e.touches[0].clientY);
        window.addEventListener('touchmove', (e) => {
            const delta = touchStart - e.touches[0].clientY;
            targetZ += delta * 0.05;
            targetZ = Math.max(0, Math.min(targetZ, totalDepth));
            touchStart = e.touches[0].clientY;
        });

        // --- 5. ANIMATION LOOP ---
        const depthBar = document.getElementById('depth-bar');
        const sections = [
            document.getElementById('sec-0'),
            document.getElementById('sec-1'),
            document.getElementById('sec-2'),
            document.getElementById('sec-3'),
            document.getElementById('sec-4')
        ];

        function animate() {
            // Smooth Scroll
            scrollZ += (targetZ - scrollZ) * 0.05;

            // Move Camera Forward through the field
            // We move camera from Z=0 to Z=-100 roughly
            camera.position.z = -scrollZ;
            
            // Twist the particle tunnel slightly for effect
            particlesMesh.rotation.z = scrollZ * 0.005;
            shardGroup.rotation.z = -scrollZ * 0.002;

            // Infinite Tunnel Effect: Move particles back if they pass camera
            const positions = particlesMesh.geometry.attributes.position.array;
            for(let i=0; i<particlesCount; i++){
                const i3 = i*3;
                if(positions[i3+2] > camera.position.z + 5) {
                    positions[i3+2] -= 200; // Teleport to back
                }
            }
            particlesMesh.geometry.attributes.position.needsUpdate = true;

            // --- HTML CONTENT VISIBILITY LOGIC ---
            // Determine active section based on Z-depth ranges
            // Range logic: 0-20 (Hero), 20-40 (About), 40-60 (Events), 60-80 (Pro), 80+ (Footer)
            let activeIndex = -1;
            
            if (scrollZ < 15) activeIndex = 0;
            else if (scrollZ < 35) activeIndex = 1;
            else if (scrollZ < 60) activeIndex = 2;
            else if (scrollZ < 85) activeIndex = 3;
            else activeIndex = 4;

            sections.forEach((sec, index) => {
                if(index === activeIndex) {
                    sec.classList.add('active');
                } else {
                    sec.classList.remove('active');
                }
            });

            // Update Depth Meter
            depthBar.style.height = (scrollZ / totalDepth) * 100 + "%";

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        animate();

        // Resize Handler
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
